{"version":3,"sources":["../../../../../../../Desktop/PROJECT%202026/POS/src/app/%28authenticated%29/products/page.tsx","../../../../../../../Desktop/PROJECT%202026/POS/node_modules/lucide-react/src/icons/tag.ts"],"sourcesContent":["\"use client\";\r\nimport { useState } from \"react\";\r\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport { z } from \"zod\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Skeleton } from \"@/components/ui/skeleton\";\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogFooter,\r\n  DialogDescription,\r\n} from \"@/components/ui/dialog\";\r\nimport {\r\n  Form,\r\n  FormControl,\r\n  FormField,\r\n  FormItem,\r\n  FormLabel,\r\n  FormMessage,\r\n} from \"@/components/ui/form\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Switch } from \"@/components/ui/switch\";\r\nimport { ScrollArea } from \"@/components/ui/scroll-area\";\r\nimport { Search, Plus, Pencil, Trash2, Package, Tag, DollarSign, Layers, AlertCircle, FileText } from \"lucide-react\";\r\nimport { useToast } from \"@/hooks/use-toast\";\r\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\r\nimport type { Product } from \"@shared/schema\";\r\n\r\nconst productFormSchema = z.object({\r\n  name: z.string().min(1, \"Name is required\"),\r\n  description: z.string().optional(),\r\n  sku: z.string().optional(),\r\n  category: z.enum([\"networking\", \"cctv\", \"intercom\", \"services\"]),\r\n  price: z.string().min(1, \"Price is required\"),\r\n  costPrice: z.string().optional(),\r\n  stockQuantity: z.number().min(0),\r\n  lowStockThreshold: z.number().min(0),\r\n  isActive: z.boolean(),\r\n});\r\n\r\ntype ProductFormData = z.infer<typeof productFormSchema>;\r\n\r\nexport default function Products() {\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [editingProduct, setEditingProduct] = useState<Product | null>(null);\r\n  const [deleteConfirmId, setDeleteConfirmId] = useState<string | null>(null);\r\n  const { toast } = useToast();\r\n\r\n  const { data: products, isLoading } = useQuery<Product[]>({\r\n    queryKey: [\"/api/products\"],\r\n  });\r\n\r\n  const form = useForm<ProductFormData>({\r\n    resolver: zodResolver(productFormSchema),\r\n    defaultValues: {\r\n      name: \"\",\r\n      description: \"\",\r\n      sku: \"\",\r\n      category: \"networking\",\r\n      price: \"\",\r\n      costPrice: \"\",\r\n      stockQuantity: 0,\r\n      lowStockThreshold: 10,\r\n      isActive: true,\r\n    },\r\n  });\r\n\r\n  const createMutation = useMutation({\r\n    mutationFn: async (data: ProductFormData) => {\r\n      return apiRequest(\"POST\", \"/api/products\", data);\r\n    },\r\n    onSuccess: () => {\r\n      toast({ title: \"Product created successfully\" });\r\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\r\n      setIsDialogOpen(false);\r\n      form.reset();\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Failed to create product\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    },\r\n  });\r\n\r\n  const updateMutation = useMutation({\r\n    mutationFn: async (data: ProductFormData & { id: string }) => {\r\n      return apiRequest(\"PATCH\", `/api/products/${data.id}`, data);\r\n    },\r\n    onSuccess: () => {\r\n      toast({ title: \"Product updated successfully\" });\r\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\r\n      setIsDialogOpen(false);\r\n      setEditingProduct(null);\r\n      form.reset();\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Failed to update product\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    },\r\n  });\r\n\r\n  const deleteMutation = useMutation({\r\n    mutationFn: async (id: string) => {\r\n      return apiRequest(\"DELETE\", `/api/products/${id}`);\r\n    },\r\n    onSuccess: () => {\r\n      toast({ title: \"Product deleted successfully\" });\r\n      queryClient.invalidateQueries({ queryKey: [\"/api/products\"] });\r\n      setDeleteConfirmId(null);\r\n    },\r\n    onError: (error: Error) => {\r\n      toast({\r\n        title: \"Failed to delete product\",\r\n        description: error.message,\r\n        variant: \"destructive\",\r\n      });\r\n    },\r\n  });\r\n\r\n  const openCreateDialog = () => {\r\n    setEditingProduct(null);\r\n    form.reset({\r\n      name: \"\",\r\n      description: \"\",\r\n      sku: \"\",\r\n      category: \"networking\",\r\n      price: \"\",\r\n      costPrice: \"\",\r\n      stockQuantity: 0,\r\n      lowStockThreshold: 10,\r\n      isActive: true,\r\n    });\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const openEditDialog = (product: Product) => {\r\n    setEditingProduct(product);\r\n    form.reset({\r\n      name: product.name,\r\n      description: product.description || \"\",\r\n      sku: product.sku || \"\",\r\n      category: product.category as any,\r\n      price: product.price.toString(),\r\n      costPrice: product.costPrice ? product.costPrice.toString() : \"\",\r\n      stockQuantity: product.stockQuantity,\r\n      lowStockThreshold: product.lowStockThreshold,\r\n      isActive: product.isActive,\r\n    });\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const onSubmit = (data: ProductFormData) => {\r\n    if (editingProduct) {\r\n      updateMutation.mutate({ ...data, id: editingProduct.id });\r\n    } else {\r\n      createMutation.mutate(data);\r\n    }\r\n  };\r\n\r\n  const filteredProducts = products?.filter(\r\n    (p) =>\r\n      p.name.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n      p.sku?.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  const getCategoryColor = (category: string) => {\r\n    switch (category) {\r\n      case \"networking\":\r\n        return \"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-200/50\";\r\n      case \"cctv\":\r\n        return \"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-200/50\";\r\n      case \"intercom\":\r\n        return \"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-200/50\";\r\n      case \"services\":\r\n        return \"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-200/50\";\r\n      default:\r\n        return \"bg-muted/50 text-muted-foreground border-border/50\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n        <div className=\"flex flex-col gap-1\">\r\n          <h1 className=\"text-2xl font-bold font-heading tracking-tight\" data-testid=\"text-products-title\">\r\n            Product Management\r\n          </h1>\r\n          <p className=\"text-sm text-muted-foreground\">\r\n            View, add, edit, and manage your product catalog\r\n          </p>\r\n        </div>\r\n        <Button onClick={openCreateDialog} data-testid=\"button-add-product\" className=\"h-10 px-6 font-semibold shadow-sm transition-all hover:shadow-md\">\r\n          <Plus className=\"mr-2 h-4 w-4\" />\r\n          Add New Product\r\n        </Button>\r\n      </div>\r\n\r\n      <Card className=\"shadow-sm border-border/80 overflow-hidden\">\r\n        <CardHeader className=\"bg-muted/10 border-b px-6 py-4\">\r\n          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between gap-4\">\r\n            <CardTitle className=\"flex items-center gap-2 font-heading text-lg\">\r\n              <Package className=\"h-5 w-5 text-primary\" />\r\n              Catalog Details\r\n            </CardTitle>\r\n            <div className=\"relative group sm:w-72\">\r\n              <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors\" />\r\n              <Input\r\n                placeholder=\"Search by name or SKU...\"\r\n                value={searchQuery}\r\n                onChange={(e) => setSearchQuery(e.target.value)}\r\n                className=\"pl-9 bg-background transition-all focus-visible:ring-primary/30\"\r\n                data-testid=\"input-search-products\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </CardHeader>\r\n        <CardContent className=\"p-0\">\r\n          {isLoading ? (\r\n            <div className=\"p-6 space-y-4\">\r\n              {[...Array(5)].map((_, i) => (\r\n                <Skeleton key={i} className=\"h-16 w-full rounded-lg\" />\r\n              ))}\r\n            </div>\r\n          ) : !filteredProducts || filteredProducts.length === 0 ? (\r\n            <div className=\"flex flex-col items-center justify-center p-12 text-muted-foreground bg-muted/5 min-h-[300px]\">\r\n              <div className=\"relative mb-4\">\r\n                <div className=\"absolute inset-0 bg-primary/5 rounded-full blur-xl\" />\r\n                <div className=\"bg-background rounded-full p-6 border border-border/50 shadow-sm relative\">\r\n                  <Package className=\"h-12 w-12 text-muted-foreground/40\" />\r\n                </div>\r\n              </div>\r\n              <p className=\"font-semibold text-lg text-foreground/80\">No products found</p>\r\n              <p className=\"text-sm mt-1 mb-6\">Your product catalog is currently empty matching that search.</p>\r\n              <Button onClick={openCreateDialog} variant=\"outline\" className=\"shadow-sm\">\r\n                Add Your First Product\r\n              </Button>\r\n            </div>\r\n          ) : (\r\n            <div className=\"overflow-x-auto\">\r\n              <Table>\r\n                <TableHeader className=\"bg-muted/30\">\r\n                  <TableRow className=\"hover:bg-transparent\">\r\n                    <TableHead className=\"font-semibold\">Product Name</TableHead>\r\n                    <TableHead className=\"font-semibold\">SKU</TableHead>\r\n                    <TableHead className=\"font-semibold text-center\">Category</TableHead>\r\n                    <TableHead className=\"text-right font-semibold\">Price</TableHead>\r\n                    <TableHead className=\"text-right font-semibold\">Stock</TableHead>\r\n                    <TableHead className=\"text-center font-semibold\">Status</TableHead>\r\n                    <TableHead className=\"text-right font-semibold\">Actions</TableHead>\r\n                  </TableRow>\r\n                </TableHeader>\r\n                <TableBody>\r\n                  {filteredProducts.map((product) => (\r\n                    <TableRow\r\n                      key={product.id}\r\n                      data-testid={`row-product-${product.id}`}\r\n                      className=\"group hover:bg-muted/20 transition-colors\"\r\n                    >\r\n                      <TableCell className=\"font-medium text-foreground py-4\">\r\n                        <div className=\"flex items-center gap-3\">\r\n                          <div className=\"h-9 w-9 rounded-md bg-secondary/20 flex items-center justify-center border border-secondary/30 text-secondary-foreground\">\r\n                            <Tag className=\"h-4 w-4\" />\r\n                          </div>\r\n                          <span>{product.name}</span>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-muted-foreground text-sm font-mono tracking-tight\">\r\n                        {product.sku || (\r\n                          <span className=\"opacity-50 italic\">None</span>\r\n                        )}\r\n                      </TableCell>\r\n                      <TableCell className=\"text-center\">\r\n                        <Badge\r\n                          variant=\"outline\"\r\n                          className={`text-[10px] uppercase font-bold tracking-wider rounded border ${getCategoryColor(product.category)}`}\r\n                        >\r\n                          {product.category}\r\n                        </Badge>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right font-bold text-foreground\">\r\n                        ${Number(product.price).toFixed(2)}\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right\">\r\n                        <div className=\"inline-flex flex-col items-end\">\r\n                          <span\r\n                            className={`font-semibold text-base ${\r\n                              product.stockQuantity <= product.lowStockThreshold\r\n                                ? product.stockQuantity === 0 \r\n                                  ? \"text-destructive\" \r\n                                  : \"text-yellow-600 dark:text-yellow-400\"\r\n                                : \"\"\r\n                            }`}\r\n                          >\r\n                            {product.stockQuantity}\r\n                          </span>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-center\">\r\n                        <Badge\r\n                          variant={product.isActive ? \"default\" : \"secondary\"}\r\n                          className={`text-[10px] uppercase font-bold tracking-wider rounded ${\r\n                            product.isActive ? \"bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-green-500/20 border-transparent shadow-none\" : \"\"\r\n                          }`}\r\n                        >\r\n                          {product.isActive ? \"Active\" : \"Inactive\"}\r\n                        </Badge>\r\n                      </TableCell>\r\n                      <TableCell className=\"text-right\">\r\n                        <div className=\"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity\">\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"h-8 w-8 hover:bg-primary/10 hover:text-primary transition-colors\"\r\n                            onClick={() => openEditDialog(product)}\r\n                            data-testid={`button-edit-product-${product.id}`}\r\n                          >\r\n                            <Pencil className=\"h-4 w-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"icon\"\r\n                            className=\"h-8 w-8 hover:bg-destructive/10 hover:text-destructive transition-colors text-muted-foreground\"\r\n                            onClick={() => setDeleteConfirmId(product.id)}\r\n                            data-testid={`button-delete-product-${product.id}`}\r\n                          >\r\n                            <Trash2 className=\"h-4 w-4\" />\r\n                          </Button>\r\n                        </div>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                </TableBody>\r\n              </Table>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n\r\n      {/* Create/Edit Dialog */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-xl max-h-[90vh] p-0 overflow-hidden border-border/80 shadow-2xl\">\r\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-primary\" />\r\n          <DialogHeader className=\"px-6 pt-6 pb-4 border-b bg-muted/5\">\r\n            <DialogTitle className=\"font-heading text-xl\">\r\n              {editingProduct ? \"Edit Product Details\" : \"Create New Product\"}\r\n            </DialogTitle>\r\n            <DialogDescription>\r\n              {editingProduct ? \"Update the information for this product below.\" : \"Fill out the details to add a new product to the catalog.\"}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <ScrollArea className=\"max-h-[calc(90vh-140px)] px-6 py-4\">\r\n            <Form {...form}>\r\n              <form id=\"product-form\" onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 px-1\">\r\n                \r\n                {/* General Info Section */}\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50\">\r\n                    <FileText className=\"h-4 w-4\" /> General Information\r\n                  </div>\r\n                  \r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"name\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Product Name</FormLabel>\r\n                        <FormControl>\r\n                          <div className=\"relative\">\r\n                            <Tag className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70\" />\r\n                            <Input\r\n                              {...field}\r\n                              placeholder=\"e.g. Ubiquiti UniFi U6 Lite\"\r\n                              className=\"pl-10\"\r\n                              data-testid=\"input-product-name\"\r\n                            />\r\n                          </div>\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"sku\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>SKU (Stock Keeping Unit)</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              placeholder=\"e.g. U6-LITE-US\"\r\n                              className=\"font-mono text-sm\"\r\n                              data-testid=\"input-product-sku\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"category\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Category</FormLabel>\r\n                          <Select\r\n                            onValueChange={field.onChange}\r\n                            defaultValue={field.value}\r\n                          >\r\n                            <FormControl>\r\n                              <SelectTrigger data-testid=\"select-product-category\">\r\n                                <SelectValue placeholder=\"Select category\" />\r\n                              </SelectTrigger>\r\n                            </FormControl>\r\n                            <SelectContent>\r\n                              <SelectItem value=\"networking\">Networking</SelectItem>\r\n                              <SelectItem value=\"cctv\">CCTV</SelectItem>\r\n                              <SelectItem value=\"intercom\">Intercom</SelectItem>\r\n                            </SelectContent>\r\n                          </Select>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"description\"\r\n                    render={({ field }) => (\r\n                      <FormItem>\r\n                        <FormLabel>Description (Optional)</FormLabel>\r\n                        <FormControl>\r\n                          <Textarea\r\n                            {...field}\r\n                            placeholder=\"Brief description of the product...\"\r\n                            rows={3}\r\n                            className=\"resize-none\"\r\n                            data-testid=\"input-product-description\"\r\n                          />\r\n                        </FormControl>\r\n                        <FormMessage />\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n\r\n                {/* Pricing Section */}\r\n                <div className=\"space-y-4 pt-2\">\r\n                  <div className=\"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50\">\r\n                    <DollarSign className=\"h-4 w-4\" /> Pricing\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"price\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Selling Price</FormLabel>\r\n                          <FormControl>\r\n                            <div className=\"relative\">\r\n                              <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium\">$</span>\r\n                              <Input\r\n                                {...field}\r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                placeholder=\"0.00\"\r\n                                className=\"pl-7 font-semibold\"\r\n                                data-testid=\"input-product-price\"\r\n                              />\r\n                            </div>\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"costPrice\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Cost Price (Optional)</FormLabel>\r\n                          <FormControl>\r\n                            <div className=\"relative\">\r\n                              <span className=\"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium\">$</span>\r\n                              <Input\r\n                                {...field}\r\n                                type=\"number\"\r\n                                step=\"0.01\"\r\n                                placeholder=\"0.00\"\r\n                                className=\"pl-7\"\r\n                                data-testid=\"input-product-cost\"\r\n                              />\r\n                            </div>\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Inventory Section */}\r\n                <div className=\"space-y-4 pt-2\">\r\n                  <div className=\"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50\">\r\n                    <Layers className=\"h-4 w-4\" /> Inventory Management\r\n                  </div>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"stockQuantity\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Current Stock</FormLabel>\r\n                          <FormControl>\r\n                            <Input\r\n                              {...field}\r\n                              type=\"number\"\r\n                              min=\"0\"\r\n                              onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                              data-testid=\"input-product-stock\"\r\n                            />\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n\r\n                    <FormField\r\n                      control={form.control}\r\n                      name=\"lowStockThreshold\"\r\n                      render={({ field }) => (\r\n                        <FormItem>\r\n                          <FormLabel>Low Stock Alert Threshold</FormLabel>\r\n                          <FormControl>\r\n                            <div className=\"relative\">\r\n                              <AlertCircle className=\"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70\" />\r\n                              <Input\r\n                                {...field}\r\n                                type=\"number\"\r\n                                min=\"0\"\r\n                                className=\"pl-10\"\r\n                                onChange={(e) => field.onChange(parseInt(e.target.value) || 0)}\r\n                                data-testid=\"input-product-threshold\"\r\n                              />\r\n                            </div>\r\n                          </FormControl>\r\n                          <FormMessage />\r\n                        </FormItem>\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Status Section */}\r\n                <div className=\"space-y-4 pt-2 pb-2\">\r\n                  <FormField\r\n                    control={form.control}\r\n                    name=\"isActive\"\r\n                    render={({ field }) => (\r\n                      <FormItem className=\"flex items-center justify-between rounded-xl border border-border/60 bg-muted/20 p-4 hover:bg-muted/30 transition-colors\">\r\n                        <div className=\"space-y-0.5\">\r\n                          <FormLabel className=\"text-base text-foreground font-semibold\">Active Status</FormLabel>\r\n                          <p className=\"text-sm text-muted-foreground\">\r\n                            Toggle off to hide this product from POS and sales flows.\r\n                          </p>\r\n                        </div>\r\n                        <FormControl>\r\n                          <Switch\r\n                            checked={field.value}\r\n                            onCheckedChange={field.onChange}\r\n                            className=\"data-[state=checked]:bg-primary\"\r\n                            data-testid=\"switch-product-active\"\r\n                          />\r\n                        </FormControl>\r\n                      </FormItem>\r\n                    )}\r\n                  />\r\n                </div>\r\n              </form>\r\n            </Form>\r\n          </ScrollArea>\r\n\r\n          <DialogFooter className=\"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2\">\r\n            <Button\r\n              type=\"button\"\r\n              variant=\"outline\"\r\n              onClick={() => setIsDialogOpen(false)}\r\n            >\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              form=\"product-form\"\r\n              className=\"px-6 font-semibold shadow-sm\"\r\n              disabled={createMutation.isPending || updateMutation.isPending}\r\n              data-testid=\"button-save-product\"\r\n            >\r\n              {createMutation.isPending || updateMutation.isPending\r\n                ? \"Saving...\"\r\n                : editingProduct\r\n                  ? \"Save Changes\"\r\n                  : \"Create Product\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation */}\r\n      <Dialog\r\n        open={!!deleteConfirmId}\r\n        onOpenChange={() => setDeleteConfirmId(null)}\r\n      >\r\n        <DialogContent className=\"sm:max-w-md p-0 overflow-hidden\">\r\n          <div className=\"absolute top-0 left-0 w-full h-1 bg-destructive\" />\r\n          <DialogHeader className=\"px-6 pt-6 pb-2\">\r\n            <DialogTitle className=\"flex items-center gap-2 text-destructive font-heading\">\r\n              <AlertCircle className=\"h-5 w-5\" />\r\n              Delete Product\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n          <div className=\"px-6 py-4\">\r\n            <p className=\"text-muted-foreground\">\r\n              Are you sure you want to permanently delete this product? This action cannot be undone and will remove it from all future sales.\r\n            </p>\r\n          </div>\r\n          <DialogFooter className=\"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2\">\r\n            <Button variant=\"outline\" onClick={() => setDeleteConfirmId(null)}>\r\n              Cancel\r\n            </Button>\r\n            <Button\r\n              variant=\"destructive\"\r\n              onClick={() => deleteConfirmId && deleteMutation.mutate(deleteConfirmId)}\r\n              disabled={deleteMutation.isPending}\r\n              className=\"font-semibold\"\r\n              data-testid=\"button-confirm-delete\"\r\n            >\r\n              {deleteMutation.isPending ? \"Deleting...\" : \"Permanently Delete\"}\r\n            </Button>\r\n          </DialogFooter>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Tag\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTIuNTg2IDIuNTg2QTIgMiAwIDAgMCAxMS4xNzIgMkg0YTIgMiAwIDAgMC0yIDJ2Ny4xNzJhMiAyIDAgMCAwIC41ODYgMS40MTRsOC43MDQgOC43MDRhMi40MjYgMi40MjYgMCAwIDAgMy40MiAwbDYuNTgtNi41OGEyLjQyNiAyLjQyNiAwIDAgMCAwLTMuNDJ6IiAvPgogIDxjaXJjbGUgY3g9IjcuNSIgY3k9IjcuNSIgcj0iLjUiIGZpbGw9ImN1cnJlbnRDb2xvciIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/tag\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Tag = createLucideIcon('Tag', [\n  [\n    'path',\n    {\n      d: 'M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z',\n      key: 'vktsd0',\n    },\n  ],\n  ['circle', { cx: '7.5', cy: '7.5', r: '.5', fill: 'currentColor', key: 'kqv944' }],\n]);\n\nexport default Tag;\n"],"names":[],"mappings":"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","ignoreList":[1]}