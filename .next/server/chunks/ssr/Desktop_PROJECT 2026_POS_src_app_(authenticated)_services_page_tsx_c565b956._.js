module.exports=[61227,a=>{"use strict";var b=a.i(41253),c=a.i(66624),d=a.i(26011),e=a.i(51675),f=a.i(52900),g=a.i(98172),h=a.i(67258),i=a.i(37573),j=a.i(41943),k=a.i(65367),l=a.i(58615),m=a.i(83963),n=a.i(48167),o=a.i(59589),p=a.i(40479),q=a.i(14873),r=a.i(3237),s=a.i(49288),t=a.i(99602),u=a.i(72881),v=a.i(60838),w=a.i(67814);let x=(0,a.i(21306).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);var y=a.i(53043),z=a.i(56830),A=a.i(64228),B=a.i(99975),C=a.i(61034);let D=h.z.object({name:h.z.string().min(1,"Name is required"),description:h.z.string().optional(),price:h.z.string().min(1,"Price is required"),duration:h.z.string().optional(),isActive:h.z.boolean()});function E(){let[a,h]=(0,c.useState)(""),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(null),[I,J]=(0,c.useState)(null),{toast:K}=(0,A.useToast)(),{data:L,isLoading:M}=(0,d.useQuery)({queryKey:["/api/services"]}),N=(0,f.useForm)({resolver:(0,g.zodResolver)(D),defaultValues:{name:"",description:"",price:"",duration:"",isActive:!0}}),O=(0,e.useMutation)({mutationFn:async a=>(0,B.apiRequest)("POST","/api/services",a),onSuccess:()=>{K({title:"Service created successfully"}),B.queryClient.invalidateQueries({queryKey:["/api/services"]}),F(!1),N.reset()},onError:a=>{K({title:"Failed to create service",description:a.message,variant:"destructive"})}}),P=(0,e.useMutation)({mutationFn:async a=>(0,B.apiRequest)("PATCH",`/api/services/${a.id}`,a),onSuccess:()=>{K({title:"Service updated successfully"}),B.queryClient.invalidateQueries({queryKey:["/api/services"]}),F(!1),H(null),N.reset()},onError:a=>{K({title:"Failed to update service",description:a.message,variant:"destructive"})}}),Q=(0,e.useMutation)({mutationFn:async a=>(0,B.apiRequest)("DELETE",`/api/services/${a}`),onSuccess:()=>{K({title:"Service deleted successfully"}),B.queryClient.invalidateQueries({queryKey:["/api/services"]}),J(null)},onError:a=>{K({title:"Failed to delete service",description:a.message,variant:"destructive"})}}),R=()=>{H(null),N.reset({name:"",description:"",price:"",duration:"",isActive:!0}),F(!0)},S=L?.filter(b=>b.name.toLowerCase().includes(a.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold font-heading tracking-tight","data-testid":"text-services-title",children:"Services Management"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Manage your installation, maintenance, and training offerings"})]}),(0,b.jsxs)(j.Button,{onClick:R,"data-testid":"button-add-service",className:"h-10 px-6 font-semibold shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(t.Plus,{className:"mr-2 h-4 w-4"}),"Add New Service"]})]}),(0,b.jsxs)(i.Card,{className:"shadow-sm border-border/80 overflow-hidden",children:[(0,b.jsx)(i.CardHeader,{className:"bg-muted/10 border-b px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)(i.CardTitle,{className:"flex items-center gap-2 font-heading text-lg",children:[(0,b.jsx)(w.Wrench,{className:"h-5 w-5 text-primary"}),"Service Catalog"]}),(0,b.jsxs)("div",{className:"relative group sm:w-72",children:[(0,b.jsx)(s.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),(0,b.jsx)(k.Input,{placeholder:"Search services by name...",value:a,onChange:a=>h(a.target.value),className:"pl-9 bg-background transition-all focus-visible:ring-primary/30","data-testid":"input-search-services"})]})]})}),(0,b.jsx)(i.CardContent,{className:"p-0",children:M?(0,b.jsx)("div",{className:"p-6 space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(m.Skeleton,{className:"h-16 w-full rounded-lg"},c))}):S&&0!==S.length?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{className:"bg-muted/30",children:(0,b.jsxs)(n.TableRow,{className:"hover:bg-transparent",children:[(0,b.jsx)(n.TableHead,{className:"font-semibold w-[250px]",children:"Service Name"}),(0,b.jsx)(n.TableHead,{className:"font-semibold",children:"Description"}),(0,b.jsx)(n.TableHead,{className:"font-semibold text-center",children:"Duration"}),(0,b.jsx)(n.TableHead,{className:"text-right font-semibold",children:"Price"}),(0,b.jsx)(n.TableHead,{className:"text-center font-semibold",children:"Status"}),(0,b.jsx)(n.TableHead,{className:"text-right font-semibold",children:"Actions"})]})}),(0,b.jsx)(n.TableBody,{children:S.map(a=>(0,b.jsxs)(n.TableRow,{"data-testid":`row-service-${a.id}`,className:"group hover:bg-muted/20 transition-colors cursor-default",children:[(0,b.jsx)(n.TableCell,{className:"font-medium text-foreground py-4 align-top",children:(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)("div",{className:"h-9 w-9 shrink-0 rounded-md bg-orange-500/10 flex items-center justify-center border border-orange-500/20 text-orange-600 dark:text-orange-400 mt-0.5",children:(0,b.jsx)(w.Wrench,{className:"h-4 w-4"})}),(0,b.jsx)("span",{className:"leading-tight mt-2 inline-block",children:a.name})]})}),(0,b.jsx)(n.TableCell,{className:"text-muted-foreground text-sm max-w-sm align-top pt-5",children:(0,b.jsx)("div",{className:"line-clamp-2 leading-relaxed",children:a.description||(0,b.jsx)("span",{className:"italic opacity-50",children:"No description provided"})})}),(0,b.jsx)(n.TableCell,{className:"text-center align-top pt-5",children:a.duration?(0,b.jsxs)(l.Badge,{variant:"secondary",className:"text-xs font-medium",children:[(0,b.jsx)(x,{className:"h-3 w-3 mr-1"}),a.duration," mins"]}):(0,b.jsx)("span",{className:"text-muted-foreground opacity-50 text-sm",children:"-"})}),(0,b.jsxs)(n.TableCell,{className:"text-right font-bold text-foreground align-top pt-5",children:["$",Number(a.price).toFixed(2)]}),(0,b.jsx)(n.TableCell,{className:"text-center align-top pt-5",children:(0,b.jsx)(l.Badge,{variant:a.isActive?"default":"secondary",className:`text-[10px] uppercase font-bold tracking-wider rounded ${a.isActive?"bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-green-500/20 border-transparent shadow-none":""}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)(n.TableCell,{className:"text-right align-top pt-3.5",children:(0,b.jsxs)("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 hover:text-primary transition-colors",onClick:()=>{H(a),N.reset({name:a.name,description:a.description||"",price:a.price.toString(),duration:a.duration||"",isActive:a.isActive}),F(!0)},"data-testid":`button-edit-service-${a.id}`,children:(0,b.jsx)(u.Pencil,{className:"h-4 w-4"})}),(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive transition-colors text-muted-foreground",onClick:()=>J(a.id),"data-testid":`button-delete-service-${a.id}`,children:(0,b.jsx)(v.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-muted-foreground bg-muted/5 min-h-[300px]",children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/5 rounded-full blur-xl"}),(0,b.jsx)("div",{className:"bg-background rounded-full p-6 border border-border/50 shadow-sm relative",children:(0,b.jsx)(w.Wrench,{className:"h-12 w-12 text-muted-foreground/40"})})]}),(0,b.jsx)("p",{className:"font-semibold text-lg text-foreground/80",children:"No services found"}),(0,b.jsx)("p",{className:"text-sm mt-1 mb-6",children:"You don't have any services matching your search."}),(0,b.jsx)(j.Button,{onClick:R,variant:"outline",className:"shadow-sm",children:"Add Your First Service"})]})})]}),(0,b.jsx)(o.Dialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-lg p-0 overflow-hidden border-border/80 shadow-2xl",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),(0,b.jsxs)(o.DialogHeader,{className:"px-6 pt-6 pb-4 border-b bg-muted/5",children:[(0,b.jsx)(o.DialogTitle,{className:"font-heading text-xl",children:G?"Edit Service Details":"Create New Service"}),(0,b.jsx)(o.DialogDescription,{children:G?"Update the service information below.":"Fill out the details to add a new service to your catalog."})]}),(0,b.jsx)(C.ScrollArea,{className:"max-h-[calc(90vh-140px)] px-6 py-4",children:(0,b.jsx)(p.Form,{...N,children:(0,b.jsxs)("form",{id:"service-form",onSubmit:N.handleSubmit(a=>{G?P.mutate({...a,id:G.id}):O.mutate(a)}),className:"space-y-6 px-1",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50",children:[(0,b.jsx)(y.FileText,{className:"h-4 w-4"})," Description"]}),(0,b.jsx)(p.FormField,{control:N.control,name:"name",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Service Name"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(w.Wrench,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),(0,b.jsx)(k.Input,{...a,placeholder:"e.g. CCTV Installation",className:"pl-10","data-testid":"input-service-name"})]})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsx)(p.FormField,{control:N.control,name:"description",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Service Breakdown (Optional)"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(q.Textarea,{...a,placeholder:"Detail what is included in this service...",rows:4,className:"resize-none","data-testid":"input-service-description"})}),(0,b.jsx)(p.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50",children:[(0,b.jsx)(z.Activity,{className:"h-4 w-4"})," Details"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(p.FormField,{control:N.control,name:"price",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Service Fee"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),(0,b.jsx)(k.Input,{...a,type:"number",step:"0.01",placeholder:"0.00",className:"pl-7 font-semibold","data-testid":"input-service-price"})]})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsx)(p.FormField,{control:N.control,name:"duration",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Est. Duration (mins)"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(x,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),(0,b.jsx)(k.Input,{...a,placeholder:"e.g. 60",className:"pl-9","data-testid":"input-service-duration"})]})}),(0,b.jsx)(p.FormMessage,{})]})})]})]}),(0,b.jsx)("div",{className:"space-y-4 pt-2 pb-2",children:(0,b.jsx)(p.FormField,{control:N.control,name:"isActive",render:({field:a})=>(0,b.jsxs)(p.FormItem,{className:"flex items-center justify-between rounded-xl border border-border/60 bg-muted/20 p-4 hover:bg-muted/30 transition-colors",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(p.FormLabel,{className:"text-base text-foreground font-semibold",children:"Active Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toggle off to hide this service from booking and sales."})]}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(r.Switch,{checked:a.value,onCheckedChange:a.onChange,className:"data-[state=checked]:bg-primary","data-testid":"switch-service-active"})})]})})})]})})}),(0,b.jsxs)(o.DialogFooter,{className:"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>F(!1),children:"Cancel"}),(0,b.jsx)(j.Button,{type:"submit",form:"service-form",className:"px-6 font-semibold shadow-sm",disabled:O.isPending||P.isPending,"data-testid":"button-save-service",children:O.isPending||P.isPending?"Saving...":G?"Save Changes":"Create Service"})]})]})}),(0,b.jsx)(o.Dialog,{open:!!I,onOpenChange:()=>J(null),children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-md p-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-destructive"}),(0,b.jsx)(o.DialogHeader,{className:"px-6 pt-6 pb-2",children:(0,b.jsxs)(o.DialogTitle,{className:"flex items-center gap-2 text-destructive font-heading",children:[(0,b.jsx)(v.Trash2,{className:"h-5 w-5"}),"Delete Service"]})}),(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Are you sure you want to permanently delete this service? This action cannot be undone and will remove it from future sales."})}),(0,b.jsxs)(o.DialogFooter,{className:"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>J(null),children:"Cancel"}),(0,b.jsx)(j.Button,{variant:"destructive",onClick:()=>I&&Q.mutate(I),disabled:Q.isPending,className:"font-semibold","data-testid":"button-confirm-delete-service",children:Q.isPending?"Deleting...":"Permanently Delete"})]})]})})]})}a.s(["default",()=>E],61227)}];

//# sourceMappingURL=Desktop_PROJECT%202026_POS_src_app_%28authenticated%29_services_page_tsx_c565b956._.js.map