module.exports=[99520,a=>{"use strict";var b=a.i(41253),c=a.i(66624),d=a.i(26011),e=a.i(51675),f=a.i(52900),g=a.i(98172),h=a.i(67258),i=a.i(37573),j=a.i(41943),k=a.i(65367),l=a.i(58615),m=a.i(83963),n=a.i(48167),o=a.i(59589),p=a.i(40479),q=a.i(58893),r=a.i(14873),s=a.i(3237),t=a.i(61034),u=a.i(49288),v=a.i(99602),w=a.i(72881),x=a.i(60838),y=a.i(42902);let z=(0,a.i(21306).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]]);var A=a.i(30802),B=a.i(95514),C=a.i(18215),D=a.i(53043),E=a.i(64228),F=a.i(99975);let G=h.z.object({name:h.z.string().min(1,"Name is required"),description:h.z.string().optional(),sku:h.z.string().optional(),category:h.z.enum(["networking","cctv","intercom","services"]),price:h.z.string().min(1,"Price is required"),costPrice:h.z.string().optional(),stockQuantity:h.z.number().min(0),lowStockThreshold:h.z.number().min(0),isActive:h.z.boolean()});function H(){let[a,h]=(0,c.useState)(""),[H,I]=(0,c.useState)(!1),[J,K]=(0,c.useState)(null),[L,M]=(0,c.useState)(null),{toast:N}=(0,E.useToast)(),{data:O,isLoading:P}=(0,d.useQuery)({queryKey:["/api/products"]}),Q=(0,f.useForm)({resolver:(0,g.zodResolver)(G),defaultValues:{name:"",description:"",sku:"",category:"networking",price:"",costPrice:"",stockQuantity:0,lowStockThreshold:10,isActive:!0}}),R=(0,e.useMutation)({mutationFn:async a=>(0,F.apiRequest)("POST","/api/products",a),onSuccess:()=>{N({title:"Product created successfully"}),F.queryClient.invalidateQueries({queryKey:["/api/products"]}),I(!1),Q.reset()},onError:a=>{N({title:"Failed to create product",description:a.message,variant:"destructive"})}}),S=(0,e.useMutation)({mutationFn:async a=>(0,F.apiRequest)("PATCH",`/api/products/${a.id}`,a),onSuccess:()=>{N({title:"Product updated successfully"}),F.queryClient.invalidateQueries({queryKey:["/api/products"]}),I(!1),K(null),Q.reset()},onError:a=>{N({title:"Failed to update product",description:a.message,variant:"destructive"})}}),T=(0,e.useMutation)({mutationFn:async a=>(0,F.apiRequest)("DELETE",`/api/products/${a}`),onSuccess:()=>{N({title:"Product deleted successfully"}),F.queryClient.invalidateQueries({queryKey:["/api/products"]}),M(null)},onError:a=>{N({title:"Failed to delete product",description:a.message,variant:"destructive"})}}),U=()=>{K(null),Q.reset({name:"",description:"",sku:"",category:"networking",price:"",costPrice:"",stockQuantity:0,lowStockThreshold:10,isActive:!0}),I(!0)},V=O?.filter(b=>b.name.toLowerCase().includes(a.toLowerCase())||b.sku?.toLowerCase().includes(a.toLowerCase()));return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,b.jsx)("h1",{className:"text-2xl font-bold font-heading tracking-tight","data-testid":"text-products-title",children:"Product Management"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"View, add, edit, and manage your product catalog"})]}),(0,b.jsxs)(j.Button,{onClick:U,"data-testid":"button-add-product",className:"h-10 px-6 font-semibold shadow-sm transition-all hover:shadow-md",children:[(0,b.jsx)(v.Plus,{className:"mr-2 h-4 w-4"}),"Add New Product"]})]}),(0,b.jsxs)(i.Card,{className:"shadow-sm border-border/80 overflow-hidden",children:[(0,b.jsx)(i.CardHeader,{className:"bg-muted/10 border-b px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[(0,b.jsxs)(i.CardTitle,{className:"flex items-center gap-2 font-heading text-lg",children:[(0,b.jsx)(y.Package,{className:"h-5 w-5 text-primary"}),"Catalog Details"]}),(0,b.jsxs)("div",{className:"relative group sm:w-72",children:[(0,b.jsx)(u.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground group-focus-within:text-primary transition-colors"}),(0,b.jsx)(k.Input,{placeholder:"Search by name or SKU...",value:a,onChange:a=>h(a.target.value),className:"pl-9 bg-background transition-all focus-visible:ring-primary/30","data-testid":"input-search-products"})]})]})}),(0,b.jsx)(i.CardContent,{className:"p-0",children:P?(0,b.jsx)("div",{className:"p-6 space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((a,c)=>(0,b.jsx)(m.Skeleton,{className:"h-16 w-full rounded-lg"},c))}):V&&0!==V.length?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)(n.Table,{children:[(0,b.jsx)(n.TableHeader,{className:"bg-muted/30",children:(0,b.jsxs)(n.TableRow,{className:"hover:bg-transparent",children:[(0,b.jsx)(n.TableHead,{className:"font-semibold",children:"Product Name"}),(0,b.jsx)(n.TableHead,{className:"font-semibold",children:"SKU"}),(0,b.jsx)(n.TableHead,{className:"font-semibold text-center",children:"Category"}),(0,b.jsx)(n.TableHead,{className:"text-right font-semibold",children:"Price"}),(0,b.jsx)(n.TableHead,{className:"text-right font-semibold",children:"Stock"}),(0,b.jsx)(n.TableHead,{className:"text-center font-semibold",children:"Status"}),(0,b.jsx)(n.TableHead,{className:"text-right font-semibold",children:"Actions"})]})}),(0,b.jsx)(n.TableBody,{children:V.map(a=>(0,b.jsxs)(n.TableRow,{"data-testid":`row-product-${a.id}`,className:"group hover:bg-muted/20 transition-colors",children:[(0,b.jsx)(n.TableCell,{className:"font-medium text-foreground py-4",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"h-9 w-9 rounded-md bg-secondary/20 flex items-center justify-center border border-secondary/30 text-secondary-foreground",children:(0,b.jsx)(z,{className:"h-4 w-4"})}),(0,b.jsx)("span",{children:a.name})]})}),(0,b.jsx)(n.TableCell,{className:"text-muted-foreground text-sm font-mono tracking-tight",children:a.sku||(0,b.jsx)("span",{className:"opacity-50 italic",children:"None"})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsx)(l.Badge,{variant:"outline",className:`text-[10px] uppercase font-bold tracking-wider rounded border ${(a=>{switch(a){case"networking":return"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-200/50";case"cctv":return"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-200/50";case"intercom":return"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-200/50";case"services":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-200/50";default:return"bg-muted/50 text-muted-foreground border-border/50"}})(a.category)}`,children:a.category})}),(0,b.jsxs)(n.TableCell,{className:"text-right font-bold text-foreground",children:["$",Number(a.price).toFixed(2)]}),(0,b.jsx)(n.TableCell,{className:"text-right",children:(0,b.jsx)("div",{className:"inline-flex flex-col items-end",children:(0,b.jsx)("span",{className:`font-semibold text-base ${a.stockQuantity<=a.lowStockThreshold?0===a.stockQuantity?"text-destructive":"text-yellow-600 dark:text-yellow-400":""}`,children:a.stockQuantity})})}),(0,b.jsx)(n.TableCell,{className:"text-center",children:(0,b.jsx)(l.Badge,{variant:a.isActive?"default":"secondary",className:`text-[10px] uppercase font-bold tracking-wider rounded ${a.isActive?"bg-green-500/10 text-green-600 dark:text-green-400 hover:bg-green-500/20 border-transparent shadow-none":""}`,children:a.isActive?"Active":"Inactive"})}),(0,b.jsx)(n.TableCell,{className:"text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-1 opacity-60 group-hover:opacity-100 transition-opacity",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-primary/10 hover:text-primary transition-colors",onClick:()=>{K(a),Q.reset({name:a.name,description:a.description||"",sku:a.sku||"",category:a.category,price:a.price.toString(),costPrice:a.costPrice?a.costPrice.toString():"",stockQuantity:a.stockQuantity,lowStockThreshold:a.lowStockThreshold,isActive:a.isActive}),I(!0)},"data-testid":`button-edit-product-${a.id}`,children:(0,b.jsx)(w.Pencil,{className:"h-4 w-4"})}),(0,b.jsx)(j.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 hover:bg-destructive/10 hover:text-destructive transition-colors text-muted-foreground",onClick:()=>M(a.id),"data-testid":`button-delete-product-${a.id}`,children:(0,b.jsx)(x.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center p-12 text-muted-foreground bg-muted/5 min-h-[300px]",children:[(0,b.jsxs)("div",{className:"relative mb-4",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-primary/5 rounded-full blur-xl"}),(0,b.jsx)("div",{className:"bg-background rounded-full p-6 border border-border/50 shadow-sm relative",children:(0,b.jsx)(y.Package,{className:"h-12 w-12 text-muted-foreground/40"})})]}),(0,b.jsx)("p",{className:"font-semibold text-lg text-foreground/80",children:"No products found"}),(0,b.jsx)("p",{className:"text-sm mt-1 mb-6",children:"Your product catalog is currently empty matching that search."}),(0,b.jsx)(j.Button,{onClick:U,variant:"outline",className:"shadow-sm",children:"Add Your First Product"})]})})]}),(0,b.jsx)(o.Dialog,{open:H,onOpenChange:I,children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-xl max-h-[90vh] p-0 overflow-hidden border-border/80 shadow-2xl",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),(0,b.jsxs)(o.DialogHeader,{className:"px-6 pt-6 pb-4 border-b bg-muted/5",children:[(0,b.jsx)(o.DialogTitle,{className:"font-heading text-xl",children:J?"Edit Product Details":"Create New Product"}),(0,b.jsx)(o.DialogDescription,{children:J?"Update the information for this product below.":"Fill out the details to add a new product to the catalog."})]}),(0,b.jsx)(t.ScrollArea,{className:"max-h-[calc(90vh-140px)] px-6 py-4",children:(0,b.jsx)(p.Form,{...Q,children:(0,b.jsxs)("form",{id:"product-form",onSubmit:Q.handleSubmit(a=>{J?S.mutate({...a,id:J.id}):R.mutate(a)}),className:"space-y-6 px-1",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50",children:[(0,b.jsx)(D.FileText,{className:"h-4 w-4"})," General Information"]}),(0,b.jsx)(p.FormField,{control:Q.control,name:"name",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Product Name"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(z,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),(0,b.jsx)(k.Input,{...a,placeholder:"e.g. Ubiquiti UniFi U6 Lite",className:"pl-10","data-testid":"input-product-name"})]})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(p.FormField,{control:Q.control,name:"sku",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"SKU (Stock Keeping Unit)"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(k.Input,{...a,placeholder:"e.g. U6-LITE-US",className:"font-mono text-sm","data-testid":"input-product-sku"})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsx)(p.FormField,{control:Q.control,name:"category",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Category"}),(0,b.jsxs)(q.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(q.SelectTrigger,{"data-testid":"select-product-category",children:(0,b.jsx)(q.SelectValue,{placeholder:"Select category"})})}),(0,b.jsxs)(q.SelectContent,{children:[(0,b.jsx)(q.SelectItem,{value:"networking",children:"Networking"}),(0,b.jsx)(q.SelectItem,{value:"cctv",children:"CCTV"}),(0,b.jsx)(q.SelectItem,{value:"intercom",children:"Intercom"})]})]}),(0,b.jsx)(p.FormMessage,{})]})})]}),(0,b.jsx)(p.FormField,{control:Q.control,name:"description",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Description (Optional)"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(r.Textarea,{...a,placeholder:"Brief description of the product...",rows:3,className:"resize-none","data-testid":"input-product-description"})}),(0,b.jsx)(p.FormMessage,{})]})})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50",children:[(0,b.jsx)(A.DollarSign,{className:"h-4 w-4"})," Pricing"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(p.FormField,{control:Q.control,name:"price",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Selling Price"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),(0,b.jsx)(k.Input,{...a,type:"number",step:"0.01",placeholder:"0.00",className:"pl-7 font-semibold","data-testid":"input-product-price"})]})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsx)(p.FormField,{control:Q.control,name:"costPrice",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Cost Price (Optional)"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"$"}),(0,b.jsx)(k.Input,{...a,type:"number",step:"0.01",placeholder:"0.00",className:"pl-7","data-testid":"input-product-cost"})]})}),(0,b.jsx)(p.FormMessage,{})]})})]})]}),(0,b.jsxs)("div",{className:"space-y-4 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 pb-2 text-sm font-semibold text-muted-foreground uppercase tracking-wider border-b border-border/50",children:[(0,b.jsx)(B.Layers,{className:"h-4 w-4"})," Inventory Management"]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)(p.FormField,{control:Q.control,name:"stockQuantity",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Current Stock"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(k.Input,{...a,type:"number",min:"0",onChange:b=>a.onChange(parseInt(b.target.value)||0),"data-testid":"input-product-stock"})}),(0,b.jsx)(p.FormMessage,{})]})}),(0,b.jsx)(p.FormField,{control:Q.control,name:"lowStockThreshold",render:({field:a})=>(0,b.jsxs)(p.FormItem,{children:[(0,b.jsx)(p.FormLabel,{children:"Low Stock Alert Threshold"}),(0,b.jsx)(p.FormControl,{children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(C.AlertCircle,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground/70"}),(0,b.jsx)(k.Input,{...a,type:"number",min:"0",className:"pl-10",onChange:b=>a.onChange(parseInt(b.target.value)||0),"data-testid":"input-product-threshold"})]})}),(0,b.jsx)(p.FormMessage,{})]})})]})]}),(0,b.jsx)("div",{className:"space-y-4 pt-2 pb-2",children:(0,b.jsx)(p.FormField,{control:Q.control,name:"isActive",render:({field:a})=>(0,b.jsxs)(p.FormItem,{className:"flex items-center justify-between rounded-xl border border-border/60 bg-muted/20 p-4 hover:bg-muted/30 transition-colors",children:[(0,b.jsxs)("div",{className:"space-y-0.5",children:[(0,b.jsx)(p.FormLabel,{className:"text-base text-foreground font-semibold",children:"Active Status"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Toggle off to hide this product from POS and sales flows."})]}),(0,b.jsx)(p.FormControl,{children:(0,b.jsx)(s.Switch,{checked:a.value,onCheckedChange:a.onChange,className:"data-[state=checked]:bg-primary","data-testid":"switch-product-active"})})]})})})]})})}),(0,b.jsxs)(o.DialogFooter,{className:"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2",children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>I(!1),children:"Cancel"}),(0,b.jsx)(j.Button,{type:"submit",form:"product-form",className:"px-6 font-semibold shadow-sm",disabled:R.isPending||S.isPending,"data-testid":"button-save-product",children:R.isPending||S.isPending?"Saving...":J?"Save Changes":"Create Product"})]})]})}),(0,b.jsx)(o.Dialog,{open:!!L,onOpenChange:()=>M(null),children:(0,b.jsxs)(o.DialogContent,{className:"sm:max-w-md p-0 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-destructive"}),(0,b.jsx)(o.DialogHeader,{className:"px-6 pt-6 pb-2",children:(0,b.jsxs)(o.DialogTitle,{className:"flex items-center gap-2 text-destructive font-heading",children:[(0,b.jsx)(C.AlertCircle,{className:"h-5 w-5"}),"Delete Product"]})}),(0,b.jsx)("div",{className:"px-6 py-4",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Are you sure you want to permanently delete this product? This action cannot be undone and will remove it from all future sales."})}),(0,b.jsxs)(o.DialogFooter,{className:"px-6 py-4 border-t bg-muted/5 sm:justify-end gap-2",children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>M(null),children:"Cancel"}),(0,b.jsx)(j.Button,{variant:"destructive",onClick:()=>L&&T.mutate(L),disabled:T.isPending,className:"font-semibold","data-testid":"button-confirm-delete",children:T.isPending?"Deleting...":"Permanently Delete"})]})]})})]})}a.s(["default",()=>H],99520)}];

//# sourceMappingURL=Desktop_PROJECT%202026_POS_src_app_%28authenticated%29_products_page_tsx_dbc9a115._.js.map