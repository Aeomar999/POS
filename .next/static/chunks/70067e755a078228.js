(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22618,e=>{"use strict";let s=(0,e.i(59868).default)("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);e.s(["DollarSign",()=>s],22618)},83413,e=>{"use strict";let s=(0,e.i(59868).default)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);e.s(["AlertTriangle",()=>s],83413)},22028,e=>{"use strict";var s=e.i(91342),t=e.i(77236),a=e.i(80490),r=e.i(92650),d=e.i(77266),i=e.i(78141),l=e.i(22618),o=e.i(97511),n=e.i(83413),c=e.i(44965),x=e.i(4781),m=e.i(49857),h=e.i(49530),u=e.i(43626),g=e.i(38448),p=(0,x.generateCategoricalChart)({chartName:"BarChart",GraphicalChild:m.Bar,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:h.XAxis},{axisType:"yAxis",AxisComp:u.YAxis}],formatAxisMap:g.formatAxisMap}),j=e.i(52002),f=e.i(64590),v=e.i(98250),b=e.i(78630);function N(){let{data:e,isLoading:x}=(0,t.useQuery)({queryKey:["/api/dashboard/stats"],queryFn:()=>(0,b.apiRequest)("GET","/api/dashboard/stats").then(e=>e.json())}),{data:g}=(0,t.useQuery)({queryKey:["/api/products/low-stock"],queryFn:()=>(0,b.apiRequest)("GET","/api/products/low-stock").then(e=>e.json())});return x?(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(r.Skeleton,{className:"h-8 w-48 mb-2 rounded-lg"}),(0,s.jsx)(r.Skeleton,{className:"h-4 w-64 rounded-lg"})]}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[void 0,void 0,void 0,void 0].map((e,t)=>(0,s.jsx)(r.Skeleton,{className:"h-32 rounded-xl"},t))}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-7",children:[(0,s.jsx)(r.Skeleton,{className:"h-96 lg:col-span-4 rounded-xl"}),(0,s.jsx)(r.Skeleton,{className:"h-96 lg:col-span-3 rounded-xl"})]})]}):(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,s.jsx)("h2",{className:"text-2xl font-bold font-heading tracking-tight","data-testid":"text-dashboard-title",children:"Overview"}),(0,s.jsx)("p",{className:"text-sm text-muted-foreground",children:"Welcome back! Here's your business overview for today."})]}),(0,s.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,s.jsxs)(a.Card,{className:"hover-elevate transition-all duration-200 border-primary/10 overflow-hidden relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent opacity-50 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-2 relative z-10",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Today's Sales"}),(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(d.ShoppingCart,{className:"h-4 w-4 text-primary"})})]}),(0,s.jsxs)(a.CardContent,{className:"relative z-10",children:[(0,s.jsx)("div",{className:"text-3xl font-bold tracking-tighter","data-testid":"text-today-sales-count",children:e?.todaySales||0}),(0,s.jsxs)("p",{className:"text-xs text-muted-foreground mt-1 flex items-center gap-1",children:[(0,s.jsxs)("span",{className:"text-primary inline-flex items-center font-medium",children:[(0,s.jsx)(o.TrendingUp,{className:"h-3 w-3 mr-1"})," Transactions"]})," completed"]})]})]}),(0,s.jsxs)(a.Card,{className:"hover-elevate transition-all duration-200 border-primary/10 overflow-hidden relative group",children:[(0,s.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/10 to-transparent opacity-50 group-hover:opacity-100 transition-opacity"}),(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-2 relative z-10",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Today's Revenue"}),(0,s.jsx)("div",{className:"p-2 bg-primary/10 rounded-lg",children:(0,s.jsx)(l.DollarSign,{className:"h-4 w-4 text-primary"})})]}),(0,s.jsxs)(a.CardContent,{className:"relative z-10",children:[(0,s.jsxs)("div",{className:"text-3xl font-bold tracking-tighter","data-testid":"text-today-revenue",children:["GH₵",(e?.todayRevenue||0).toFixed(2)]}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"total earnings today"})]})]}),(0,s.jsxs)(a.Card,{className:"hover-elevate transition-all duration-200 shadow-sm border-border/60",children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Products"}),(0,s.jsx)("div",{className:"p-2 bg-secondary rounded-lg",children:(0,s.jsx)(i.Package,{className:"h-4 w-4 text-secondary-foreground"})})]}),(0,s.jsxs)(a.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold tracking-tighter","data-testid":"text-total-products",children:e?.totalProducts||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1 text-balance",children:"active items in catalog"})]})]}),(0,s.jsxs)(a.Card,{className:"hover-elevate transition-all duration-200 shadow-sm border-border/60",children:[(0,s.jsxs)(a.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,s.jsx)(a.CardTitle,{className:"text-sm font-medium text-muted-foreground",children:"Services"}),(0,s.jsx)("div",{className:"p-2 bg-secondary rounded-lg",children:(0,s.jsx)(c.Wrench,{className:"h-4 w-4 text-secondary-foreground"})})]}),(0,s.jsxs)(a.CardContent,{children:[(0,s.jsx)("div",{className:"text-3xl font-bold tracking-tighter","data-testid":"text-total-services",children:e?.totalServices||0}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"available to book"})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-6 lg:grid-cols-7",children:[(0,s.jsxs)(a.Card,{className:"lg:col-span-4 flex flex-col shadow-sm border-border/80",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-2 font-heading tracking-tight text-lg",children:[(0,s.jsx)(o.TrendingUp,{className:"h-5 w-5 text-primary"}),"Weekly Sales Revenue"]})}),(0,s.jsx)(a.CardContent,{className:"flex-1 min-h-[300px]",children:(0,s.jsx)(v.ResponsiveContainer,{width:"100%",height:"100%",children:(0,s.jsxs)(p,{data:e?.weeklySales||[],margin:{top:10,right:10,left:-20,bottom:0},children:[(0,s.jsx)(j.CartesianGrid,{strokeDasharray:"3 3",vertical:!1,stroke:"hsl(var(--border))"}),(0,s.jsx)(h.XAxis,{dataKey:"day",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},dy:10}),(0,s.jsx)(u.YAxis,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"hsl(var(--muted-foreground))"},tickFormatter:e=>`GH₵${e}`}),(0,s.jsx)(f.Tooltip,{cursor:{fill:"hsl(var(--muted))"},contentStyle:{backgroundColor:"hsl(var(--card))",border:"1px solid hsl(var(--border))",borderRadius:"8px",boxShadow:"var(--shadow-md)"},itemStyle:{color:"hsl(var(--foreground))",fontWeight:500},labelStyle:{color:"hsl(var(--muted-foreground))",marginBottom:"4px"}}),(0,s.jsx)(m.Bar,{dataKey:"total",fill:"hsl(var(--primary))",radius:[4,4,0,0],barSize:32})]})})})]}),(0,s.jsxs)("div",{className:"lg:col-span-3 space-y-6",children:[(0,s.jsxs)(a.Card,{className:"border-destructive/20 shadow-sm relative overflow-hidden",children:[(0,s.jsx)("div",{className:"absolute top-0 left-0 w-1 h-full bg-destructive/50"}),(0,s.jsx)(a.CardHeader,{className:"pb-3",children:(0,s.jsxs)(a.CardTitle,{className:"flex items-center gap-2 text-base font-heading",children:[(0,s.jsx)(n.AlertTriangle,{className:"h-4 w-4 text-destructive"}),"Low Stock Alert"]})}),(0,s.jsx)(a.CardContent,{children:g&&0!==g.length?(0,s.jsx)("div",{className:"space-y-2 max-h-[160px] overflow-y-auto pr-2 custom-scrollbar",children:g.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-background hover:bg-muted/40 rounded-lg border border-border/50 transition-colors relative overflow-hidden group","data-testid":`card-low-stock-${e.id}`,children:[(0,s.jsx)("div",{className:"absolute left-0 top-0 bottom-0 w-[3px] bg-destructive/40 group-hover:bg-destructive transition-colors"}),(0,s.jsxs)("div",{className:"pl-3",children:[(0,s.jsx)("p",{className:"font-medium text-sm leading-tight text-foreground",children:e.name}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground capitalize mt-1",children:e.category})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsx)("p",{className:"font-bold text-destructive leading-tight",children:e.stockQuantity}),(0,s.jsx)("p",{className:"text-[10px] uppercase tracking-wider text-muted-foreground mt-0.5",children:"Left"})]})]},e.id))}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 text-muted-foreground bg-muted/30 rounded-lg border border-dashed",children:[(0,s.jsx)(i.Package,{className:"h-10 w-10 mb-2 opacity-30"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"All products well-stocked!"})]})})]}),(0,s.jsxs)(a.Card,{className:"shadow-sm border-border/80",children:[(0,s.jsx)(a.CardHeader,{className:"pb-3",children:(0,s.jsx)(a.CardTitle,{className:"text-base font-heading",children:"Recent Transactions"})}),(0,s.jsx)(a.CardContent,{children:e?.recentSales&&0!==e.recentSales.length?(0,s.jsx)("div",{className:"space-y-2",children:e.recentSales.slice(0,4).map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-3 bg-secondary/10 hover:bg-secondary/30 rounded-lg transition-colors border border-transparent hover:border-border/50","data-testid":`card-recent-sale-${e.id}`,children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"bg-background rounded-md p-2 border shadow-sm",children:(0,s.jsx)(l.DollarSign,{className:"h-4 w-4 text-muted-foreground"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-medium text-sm leading-tight",children:e.saleNumber}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:e.customerName||"Walk-in Customer"})]})]}),(0,s.jsxs)("div",{className:"text-right",children:[(0,s.jsxs)("p",{className:"font-semibold text-sm leading-tight",children:["GH₵",Number(e.total).toFixed(2)]}),(0,s.jsx)("p",{className:"text-[10px] text-muted-foreground mt-1 uppercase tracking-wider",children:new Date(e.createdAt).toLocaleDateString(void 0,{month:"short",day:"numeric"})})]})]},e.id))}):(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 text-muted-foreground bg-muted/30 rounded-lg border border-dashed",children:[(0,s.jsx)(d.ShoppingCart,{className:"h-10 w-10 mb-2 opacity-30"}),(0,s.jsx)("p",{className:"text-sm font-medium",children:"No recent transactions"})]})})]})]})]})]})}e.s(["default",()=>N],22028)}]);