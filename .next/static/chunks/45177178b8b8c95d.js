(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,22653,e=>{"use strict";var t=e.i(91342),a=e.i(95281);e.i(82448);var s=e.i(57931),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,i)=>{let r=(0,s.createSlot)(`Primitive.${i}`),l=a.forwardRef((e,a)=>{let{asChild:s,...l}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,t.jsx)(s?r:i,{...l,ref:a})});return l.displayName=`Primitive.${i}`,{...e,[i]:l}},{}),r=a.forwardRef((e,a)=>(0,t.jsx)(i.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));r.displayName="Label";var l=e.i(39466),n=e.i(42633);let d=(0,l.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(r,{ref:s,className:(0,n.cn)(d(),e),...a}));o.displayName=r.displayName,e.s(["Label",()=>o],22653)},18490,71263,21374,e=>{"use strict";var t=e.i(91342),a=e.i(95281),s=e.i(41381),i=e.i(71525),r=e.i(42633);let l=s.Root;s.Trigger;let n=s.Portal;s.Close;let d=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(s.Overlay,{ref:i,className:(0,r.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...a}));d.displayName=s.Overlay.displayName;let o=a.forwardRef(({className:e,children:a,...l},o)=>(0,t.jsxs)(n,{children:[(0,t.jsx)(d,{}),(0,t.jsxs)(s.Content,{ref:o,className:(0,r.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...l,children:[a,(0,t.jsxs)(s.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(i.X,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));o.displayName=s.Content.displayName;let c=({className:e,...a})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...a});c.displayName="DialogHeader";let u=({className:e,...a})=>(0,t.jsx)("div",{className:(0,r.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...a});u.displayName="DialogFooter";let m=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(s.Title,{ref:i,className:(0,r.cn)("text-lg font-semibold leading-none tracking-tight",e),...a}));m.displayName=s.Title.displayName;let x=a.forwardRef(({className:e,...a},i)=>(0,t.jsx)(s.Description,{ref:i,className:(0,r.cn)("text-sm text-muted-foreground",e),...a}));x.displayName=s.Description.displayName,e.s(["Dialog",()=>l,"DialogContent",()=>o,"DialogDescription",()=>x,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>m],18490);var p=e.i(59868);let f=(0,p.default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Plus",()=>f],71263);let h=(0,p.default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);e.s(["Trash2",()=>h],21374)},20618,e=>{"use strict";let t=(0,e.i(59868).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],20618)},1137,e=>{"use strict";var t=e.i(91342),a=e.i(95281),s=e.i(75935),i=e.i(58134),r=e.i(21047),l=e.i(82085),n=e.i(67435),d=e.i(7503),o=e.i(92102),c=e.i(30220),u="Tabs",[m,x]=(0,i.createContextScope)(u,[r.createRovingFocusGroupScope]),p=(0,r.createRovingFocusGroupScope)(),[f,h]=m(u),b=a.forwardRef((e,a)=>{let{__scopeTabs:s,value:i,onValueChange:r,defaultValue:l,orientation:m="horizontal",dir:x,activationMode:p="automatic",...h}=e,b=(0,d.useDirection)(x),[g,v]=(0,o.useControllableState)({prop:i,onChange:r,defaultProp:l??"",caller:u});return(0,t.jsx)(f,{scope:s,baseId:(0,c.useId)(),value:g,onValueChange:v,orientation:m,dir:b,activationMode:p,children:(0,t.jsx)(n.Primitive.div,{dir:b,"data-orientation":m,...h,ref:a})})});b.displayName=u;var g="TabsList",v=a.forwardRef((e,a)=>{let{__scopeTabs:s,loop:i=!0,...l}=e,d=h(g,s),o=p(s);return(0,t.jsx)(r.Root,{asChild:!0,...o,orientation:d.orientation,dir:d.dir,loop:i,children:(0,t.jsx)(n.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...l,ref:a})})});v.displayName=g;var y="TabsTrigger",j=a.forwardRef((e,a)=>{let{__scopeTabs:i,value:l,disabled:d=!1,...o}=e,c=h(y,i),u=p(i),m=k(c.baseId,l),x=C(c.baseId,l),f=l===c.value;return(0,t.jsx)(r.Item,{asChild:!0,...u,focusable:!d,active:f,children:(0,t.jsx)(n.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":x,"data-state":f?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:m,...o,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(l)}),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(l)}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||d||!e||c.onValueChange(l)})})})});j.displayName=y;var N="TabsContent",w=a.forwardRef((e,s)=>{let{__scopeTabs:i,value:r,forceMount:d,children:o,...c}=e,u=h(N,i),m=k(u.baseId,r),x=C(u.baseId,r),p=r===u.value,f=a.useRef(p);return a.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(l.Presence,{present:d||p,children:({present:a})=>(0,t.jsx)(n.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!a,id:x,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:f.current?"0s":void 0},children:a&&o})})});function k(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}w.displayName=N;var T=e.i(42633);let S=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(v,{ref:s,className:(0,T.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...a}));S.displayName=v.displayName;let D=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(j,{ref:s,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...a}));D.displayName=j.displayName;let q=a.forwardRef(({className:e,...a},s)=>(0,t.jsx)(w,{ref:s,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...a}));q.displayName=w.displayName,e.s(["Tabs",()=>b,"TabsContent",()=>q,"TabsList",()=>S,"TabsTrigger",()=>D],1137)},1836,e=>{"use strict";var t=e.i(91342),a=e.i(95281),s=e.i(77236),i=e.i(87514),r=e.i(80490),l=e.i(33986),n=e.i(18823),d=e.i(5328),o=e.i(92650),c=e.i(1137),u=e.i(57437),m=e.i(91535),x=e.i(18490),p=e.i(22653),f=e.i(19731),h=e.i(71263),b=e.i(59868);let g=(0,b.default)("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var v=e.i(21374),y=e.i(77266),j=e.i(78141),N=e.i(44965);let w=(0,b.default)("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),k=(0,b.default)("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);var C=e.i(20618);let T=(0,b.default)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var S=e.i(35118),D=e.i(78630);function q(){let[e,b]=(0,a.useState)(""),[q,P]=(0,a.useState)([]),[R,F]=(0,a.useState)(""),[H,M]=(0,a.useState)(""),[I,$]=(0,a.useState)(!1),[L,A]=(0,a.useState)(0),{toast:G}=(0,S.useToast)(),{data:B,isLoading:z}=(0,s.useQuery)({queryKey:["/api/products"],queryFn:()=>(0,D.apiRequest)("GET","/api/products").then(e=>e.json())}),{data:O,isLoading:K}=(0,s.useQuery)({queryKey:["/api/services"],queryFn:()=>(0,D.apiRequest)("GET","/api/services").then(e=>e.json())}),Q=(0,i.useMutation)({mutationFn:async e=>await (0,D.apiRequest)("POST","/api/sales",e),onSuccess:()=>{G({title:"Sale completed!",description:"Transaction has been recorded successfully."}),P([]),F(""),M(""),A(0),$(!1),D.queryClient.invalidateQueries({queryKey:["/api/sales"]}),D.queryClient.invalidateQueries({queryKey:["/api/products"]}),D.queryClient.invalidateQueries({queryKey:["/api/dashboard/stats"]})},onError:e=>{G({title:"Sale failed",description:e.message,variant:"destructive"})}}),E=B?.filter(t=>t.isActive&&t.stockQuantity>0&&(t.name.toLowerCase().includes(e.toLowerCase())||t.sku?.toLowerCase().includes(e.toLowerCase()))),V=O?.filter(t=>t.isActive&&t.name.toLowerCase().includes(e.toLowerCase())),U=(e,t)=>{let a=q.find(a=>a.id===e.id&&a.type===t);if(a){if("product"===t&&a.quantity>=e.stockQuantity)return void G({title:"Stock limit reached",description:`Only ${e.stockQuantity} units available.`,variant:"destructive"});P(q.map(a=>a.id===e.id&&a.type===t?{...a,quantity:a.quantity+1}:a))}else P([...q,{id:e.id,name:e.name,price:Number(e.price),quantity:1,type:t,productId:"product"===t?e.id:void 0,serviceId:"service"===t?e.id:void 0,maxStock:"product"===t?e.stockQuantity:void 0}])},_=(e,t,a)=>{P(q.map(s=>{if(s.id===e&&s.type===t){let e=s.quantity+a;return e<=0?null:s.maxStock&&e>s.maxStock?(G({title:"Stock limit reached",description:`Only ${s.maxStock} units available.`,variant:"destructive"}),s):{...s,quantity:e}}return s}).filter(Boolean))},W=q.reduce((e,t)=>e+t.price*t.quantity,0),J=W*L/100,X=W-J,Y=z||K;return(0,t.jsxs)("div",{className:"h-[calc(100vh-60px)] -m-4 md:-m-6 lg:-m-8 flex flex-col lg:flex-row bg-muted/10",children:[(0,t.jsx)("div",{className:"flex-1 flex flex-col min-h-0 p-4 lg:p-6 lg:pr-3",children:(0,t.jsxs)(r.Card,{className:"flex-1 flex flex-col min-h-0 border-border/60 shadow-sm overflow-hidden bg-background",children:[(0,t.jsxs)(r.CardHeader,{className:"pb-4 pt-5 px-5 border-b bg-muted/10",children:[(0,t.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center gap-2 font-heading text-xl",children:[(0,t.jsx)(y.ShoppingCart,{className:"h-5 w-5 text-primary"}),"Point of Sale"]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(f.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{placeholder:"Search catalog... (e.g. Router, Camera)",value:e,onChange:e=>b(e.target.value),className:"pl-10 bg-background border-border/60 shadow-sm h-11 transition-all focus-visible:ring-primary/30","data-testid":"input-pos-search"})]})]}),(0,t.jsx)(r.CardContent,{className:"flex-1 min-h-0 p-0 flex flex-col",children:(0,t.jsxs)(c.Tabs,{defaultValue:"products",className:"h-full flex flex-col px-5 pt-4",children:[(0,t.jsxs)(c.TabsList,{className:"grid w-full grid-cols-2 p-1 bg-muted/50",children:[(0,t.jsxs)(c.TabsTrigger,{value:"products","data-testid":"tab-products",className:"gap-2 data-[state=active]:shadow-sm transition-all",children:[(0,t.jsx)(j.Package,{className:"h-4 w-4"}),"Products"]}),(0,t.jsxs)(c.TabsTrigger,{value:"services","data-testid":"tab-services",className:"gap-2 data-[state=active]:shadow-sm transition-all",children:[(0,t.jsx)(N.Wrench,{className:"h-4 w-4"}),"Services"]})]}),(0,t.jsx)(c.TabsContent,{value:"products",className:"flex-1 min-h-0 mt-4 outline-none",children:(0,t.jsx)(u.ScrollArea,{className:"h-full pb-6",children:Y?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 pb-4",children:[...Array(9)].map((e,a)=>(0,t.jsx)(o.Skeleton,{className:"h-[120px] rounded-xl"},a))}):E&&0!==E.length?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 xl:gap-4 pb-4",children:E.map(e=>(0,t.jsxs)("button",{onClick:()=>U(e,"product"),className:"group relative flex flex-col p-4 border border-border/60 rounded-xl text-left hover-elevate active-elevate-2 transition-all bg-background hover:border-primary/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","data-testid":`button-add-product-${e.id}`,children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary/0 group-hover:bg-primary/20 transition-colors"}),(0,t.jsx)("div",{className:"font-semibold text-sm line-clamp-2 leading-tight flex-1",children:e.name}),(0,t.jsx)("div",{className:"flex items-center gap-2 mt-3 overflow-hidden",children:(0,t.jsx)(d.Badge,{variant:"outline",className:`text-[10px] uppercase font-bold tracking-wider rounded border ${(e=>{switch(e){case"networking":return"bg-blue-500/10 text-blue-600 dark:text-blue-400 border-blue-200/50";case"cctv":return"bg-purple-500/10 text-purple-600 dark:text-purple-400 border-purple-200/50";case"intercom":return"bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 border-emerald-200/50";case"services":return"bg-orange-500/10 text-orange-600 dark:text-orange-400 border-orange-200/50";default:return"bg-muted/50 text-muted-foreground border-border/50"}})(e.category)}`,children:e.category})}),(0,t.jsxs)("div",{className:"flex items-end justify-between mt-3 w-full",children:[(0,t.jsxs)("span",{className:"font-bold text-lg text-primary leading-none",children:["GH₵",Number(e.price).toFixed(2)]}),(0,t.jsxs)("span",{className:"text-[10px] text-muted-foreground uppercase font-medium tracking-wide bg-muted/50 px-1.5 py-0.5 rounded",children:[e.stockQuantity," in stock"]})]})]},e.id))}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 text-muted-foreground bg-muted/20 rounded-xl border border-dashed mt-4",children:[(0,t.jsx)(j.Package,{className:"h-12 w-12 mb-4 opacity-30"}),(0,t.jsx)("p",{className:"font-medium",children:"No products match your search"})]})})}),(0,t.jsx)(c.TabsContent,{value:"services",className:"flex-1 min-h-0 mt-4 outline-none",children:(0,t.jsx)(u.ScrollArea,{className:"h-full pb-6",children:Y?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-4 pb-4",children:[...Array(6)].map((e,a)=>(0,t.jsx)(o.Skeleton,{className:"h-[120px] rounded-xl"},a))}):V&&0!==V.length?(0,t.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3 xl:gap-4 pb-4",children:V.map(e=>(0,t.jsxs)("button",{onClick:()=>U(e,"service"),className:"group relative flex flex-col p-4 border border-border/60 rounded-xl text-left hover-elevate active-elevate-2 transition-all bg-background hover:border-primary/30 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary","data-testid":`button-add-service-${e.id}`,children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-secondary group-hover:bg-secondary/80 transition-colors"}),(0,t.jsx)("div",{className:"font-semibold text-sm line-clamp-2 leading-tight flex-1",children:e.name}),e.duration&&(0,t.jsx)("div",{className:"mt-3",children:(0,t.jsxs)(d.Badge,{variant:"secondary",className:"text-[10px] uppercase font-bold tracking-wider rounded",children:[e.duration," mins"]})}),(0,t.jsx)("div",{className:"flex items-end justify-between mt-3 w-full",children:(0,t.jsxs)("span",{className:"font-bold text-lg text-primary leading-none",children:["GH₵",Number(e.price).toFixed(2)]})})]},e.id))}):(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center h-48 text-muted-foreground bg-muted/20 rounded-xl border border-dashed mt-4",children:[(0,t.jsx)(N.Wrench,{className:"h-12 w-12 mb-4 opacity-30"}),(0,t.jsx)("p",{className:"font-medium",children:"No services match your search"})]})})})]})})]})}),(0,t.jsx)("div",{className:"w-full lg:w-[400px] xl:w-[450px] flex flex-col min-h-0 p-4 lg:p-6 lg:pl-3",children:(0,t.jsxs)(r.Card,{className:"flex-1 flex flex-col min-h-0 border-border/60 shadow-sm overflow-hidden relative",children:[(0,t.jsx)(r.CardHeader,{className:"pb-4 pt-5 px-5 bg-background border-b relative z-10",children:(0,t.jsxs)(r.CardTitle,{className:"flex items-center justify-between font-heading",children:[(0,t.jsxs)("span",{className:"flex items-center gap-2",children:[(0,t.jsx)(k,{className:"h-5 w-5 text-primary"}),"Current Order"]}),q.length>0&&(0,t.jsxs)(d.Badge,{variant:"secondary",className:"px-2 py-0.5 text-xs font-bold",children:[q.reduce((e,t)=>e+t.quantity,0)," items"]})]})}),(0,t.jsx)(r.CardContent,{className:"flex-1 flex flex-col min-h-0 p-0 relative bg-muted/5",children:0===q.length?(0,t.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center text-muted-foreground",children:[(0,t.jsxs)("div",{className:"relative mb-6",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-primary/10 rounded-full blur-xl animate-pulse"}),(0,t.jsx)("div",{className:"bg-background rounded-full p-6 border border-border/50 relative shadow-sm",children:(0,t.jsx)(y.ShoppingCart,{className:"h-12 w-12 text-muted-foreground/50"})})]}),(0,t.jsx)("p",{className:"font-medium text-foreground/80 mb-1",children:"Your cart is empty"}),(0,t.jsx)("p",{className:"text-sm",children:"Scan or select items to begin"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.ScrollArea,{className:"flex-1",children:(0,t.jsx)("div",{className:"p-4 space-y-3",children:q.map(e=>(0,t.jsxs)("div",{className:"group flex flex-col p-3 bg-background border border-border/60 rounded-xl shadow-sm hover:border-primary/20 transition-colors","data-testid":`card-cart-item-${e.id}`,children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsxs)("div",{className:"pr-4",children:[(0,t.jsx)("p",{className:"font-semibold text-sm leading-tight text-foreground",children:e.name}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mt-0.5",children:["GH₵",e.price.toFixed(2)," each"]})]}),(0,t.jsxs)("p",{className:"font-bold text-sm",children:["GH₵",(e.price*e.quantity).toFixed(2)]})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,t.jsx)(d.Badge,{variant:"outline",className:`text-[10px] uppercase font-bold tracking-wider rounded border-0 bg-muted/50 ${"product"===e.type?"text-blue-500":"text-orange-500"}`,children:e.type}),(0,t.jsxs)("div",{className:"flex items-center gap-1 bg-muted/30 p-1 rounded-lg border border-border/50",children:[(0,t.jsx)("button",{type:"button",className:"h-7 w-7 flex items-center justify-center rounded-md hover:bg-background hover:shadow-sm transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary text-muted-foreground hover:text-foreground",onClick:()=>_(e.id,e.type,-1),"data-testid":`button-decrease-${e.id}`,children:(0,t.jsx)(g,{className:"h-3.5 w-3.5"})}),(0,t.jsx)("span",{className:"w-8 text-center font-semibold text-sm tabular-nums",children:e.quantity}),(0,t.jsx)("button",{type:"button",className:"h-7 w-7 flex items-center justify-center rounded-md hover:bg-background hover:shadow-sm transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-primary text-muted-foreground hover:text-foreground",onClick:()=>_(e.id,e.type,1),"data-testid":`button-increase-${e.id}`,children:(0,t.jsx)(h.Plus,{className:"h-3.5 w-3.5"})}),(0,t.jsx)("div",{className:"w-px h-4 bg-border mx-1"}),(0,t.jsx)("button",{type:"button",className:"h-7 w-7 flex items-center justify-center rounded-md hover:bg-destructive/10 hover:text-destructive transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-destructive text-muted-foreground",onClick:()=>{var t,a;return t=e.id,a=e.type,void P(q.filter(e=>e.id!==t||e.type!==a))},"data-testid":`button-remove-${e.id}`,children:(0,t.jsx)(v.Trash2,{className:"h-3.5 w-3.5"})})]})]})]},`${e.type}-${e.id}`))})}),(0,t.jsxs)("div",{className:"p-5 bg-background border-t shadow-[0_-4px_20px_-10px_rgba(0,0,0,0.1)] relative z-10",children:[(0,t.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsxs)("span",{className:"font-medium text-foreground",children:["GH₵",W.toFixed(2)]})]}),L>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-destructive font-medium bg-destructive/5 p-1.5 -mx-1.5 rounded-md px-1.5",children:[(0,t.jsxs)("span",{className:"flex items-center gap-1",children:["Discount ",(0,t.jsxs)(d.Badge,{variant:"destructive",className:"h-4 px-1 text-[9px] min-w-0",children:[L,"%"]})]}),(0,t.jsxs)("span",{children:["-GH₵",J.toFixed(2)]})]}),(0,t.jsx)(m.Separator,{className:"my-3 opacity-50"}),(0,t.jsxs)("div",{className:"flex justify-between items-end",children:[(0,t.jsx)("span",{className:"text-sm font-semibold text-muted-foreground uppercase tracking-wider",children:"Total"}),(0,t.jsxs)("span",{className:"text-3xl font-bold tracking-tighter text-primary",children:["GH₵",X.toFixed(2)]})]})]}),(0,t.jsxs)(l.Button,{className:"w-full h-12 text-base font-bold shadow-md hover:shadow-lg transition-all",size:"lg",onClick:()=>{0===q.length?G({title:"Empty cart",description:"Please add items to the cart before checkout.",variant:"destructive"}):$(!0)},"data-testid":"button-checkout",children:[(0,t.jsx)(w,{className:"mr-2 h-5 w-5"}),"Process Payment"]})]})]})})]})}),(0,t.jsx)(x.Dialog,{open:I,onOpenChange:$,children:(0,t.jsxs)(x.DialogContent,{className:"sm:max-w-md p-0 overflow-hidden border-border/80 shadow-2xl",children:[(0,t.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-primary"}),(0,t.jsx)(x.DialogHeader,{className:"px-6 pt-6 pb-4 border-b bg-muted/5",children:(0,t.jsx)(x.DialogTitle,{className:"font-heading text-xl",children:"Complete Transaction"})}),(0,t.jsxs)("div",{className:"px-6 py-4 space-y-5",children:[(0,t.jsxs)("div",{className:"space-y-4 bg-background",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"customerName",className:"text-xs uppercase tracking-wider text-muted-foreground font-semibold",children:"Customer Details (Optional)"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(C.User,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{id:"customerName",placeholder:"John Doe",value:R,onChange:e=>F(e.target.value),className:"pl-10 h-11","data-testid":"input-customer-name"})]})]}),(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(T,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(n.Input,{id:"customerPhone",placeholder:"(555) 000-0000",value:H,onChange:e=>M(e.target.value),className:"pl-10 h-11","data-testid":"input-customer-phone"})]})})]}),(0,t.jsx)(m.Separator,{}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(p.Label,{htmlFor:"discount",className:"text-xs uppercase tracking-wider text-muted-foreground font-semibold",children:"Apply Discount"}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)("div",{className:"relative flex-1",children:[(0,t.jsx)("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground font-medium",children:"%"}),(0,t.jsx)(n.Input,{id:"discount",type:"number",min:"0",max:"100",value:L||"",placeholder:"0",onChange:e=>A(Math.min(100,Math.max(0,Number(e.target.value)))),className:"pl-8 h-11 font-medium","data-testid":"input-discount"})]}),[10,15,20].map(e=>(0,t.jsxs)(l.Button,{type:"button",variant:L===e?"default":"outline",className:"h-11 px-3 tabular-nums font-semibold",onClick:()=>A(e),children:[e,"%"]},e))]})]}),(0,t.jsxs)("div",{className:"bg-muted/30 p-4 rounded-xl space-y-3 border border-border/50",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:"Subtotal"}),(0,t.jsxs)("span",{className:"font-medium",children:["GH₵",W.toFixed(2)]})]}),L>0&&(0,t.jsxs)("div",{className:"flex justify-between text-sm text-destructive font-medium",children:[(0,t.jsxs)("span",{children:["Discount (",L,"%)"]}),(0,t.jsxs)("span",{children:["-GH₵",J.toFixed(2)]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t flex justify-between items-center text-lg font-bold",children:[(0,t.jsx)("span",{className:"text-foreground",children:"Total Due"}),(0,t.jsxs)("span",{className:"text-primary text-2xl tracking-tighter",children:["GH₵",X.toFixed(2)]})]})]})]}),(0,t.jsxs)(x.DialogFooter,{className:"px-6 py-4 border-t bg-muted/5 sm:justify-between items-center gap-2",children:[(0,t.jsx)(l.Button,{variant:"ghost",onClick:()=>$(!1),className:"text-muted-foreground","data-testid":"button-cancel-checkout",children:"Cancel"}),(0,t.jsx)(l.Button,{onClick:()=>{Q.mutate({customerName:R,customerPhone:H,discount:J,items:q.map(e=>({productId:e.productId,serviceId:e.serviceId,name:e.name,quantity:e.quantity,unitPrice:e.price}))})},disabled:Q.isPending,className:"h-11 px-8 font-bold","data-testid":"button-confirm-sale",children:Q.isPending?"Confirming...":"Complete Order"})]})]})})]})}e.s(["default",()=>q],1836)}]);